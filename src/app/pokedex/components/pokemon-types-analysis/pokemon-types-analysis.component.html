@if (typeData()) {
<div class="card">
  <h3 class="card-title">Weaknesses and Resistances</h3>

  @if (weaknesses().length > 0) {
  <div class="type-section">
    <h4>Weaknesses</h4>
    <div class="chip-group">
      <!-- w + $index resolves track key issue, NG0505 -->
      @for (w of weaknesses(); track w + $index) {
      <span class="chip weak">{{ w | titlecase }}</span>
      }
    </div>
  </div>
  } @if (resistances().length > 0) {
  <div class="type-section">
    <h4>Resistances</h4>
    <div class="chip-group">
      @for (r of resistances(); track r + $index) {
      <span class="chip resist">{{ r | titlecase }}</span>
      }
    </div>
  </div>
  } @if (immunities().length > 0) {
  <div class="type-section">
    <h4>Immunities</h4>
    <div class="chip-group">
      @for (im of immunities(); track im + $index) {
      <span class="chip immune">{{ im | titlecase }}</span>
      }
    </div>
  </div>
  } @if ((effectiveness() | keyvalue).length > 0) {
  <div class="type-section">
    <h4>Multipliers</h4>

    <div class="multiplier-list">
      @for (m of effectivenessKeyed(); track m.key) {
      <div class="multiplier-item">
        <strong>{{ m.key | titlecase }}</strong>
        <span class="multi-value">{{ m.value }}</span>
      </div>
      }
    </div>
  </div>
  }
</div>
}
